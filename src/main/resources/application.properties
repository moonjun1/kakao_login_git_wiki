spring.application.name=demo

# JWT 설정
jwt.secret=myNewsDeliverySecretKey123456789012345678901234567890
jwt.access-token-expire-time=1800000
jwt.refresh-token-expire-time=1209600000

# Redis 설정 (로컬 개발환경)
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0
spring.data.redis.timeout=2000ms

# MySQL 데이터베이스 설정 (실제 DB 정보로 변경 필요)
spring.datasource.url=jdbc:mysql://localhost:3306/news_delivery?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA 설정
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ✅ 카카오 OAuth2 설정 - 인증 방식 명시적 지정
spring.security.oauth2.client.registration.kakao.client-id=5fd2bc73e9306c64f8910a7f8efdfd97
spring.security.oauth2.client.registration.kakao.client-secret=zFLbdigtardH1yQ2nD8so53Zr1Bh4TVG
spring.security.oauth2.client.registration.kakao.redirect-uri=http://localhost:8080/login/oauth2/code/kakao
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.client-name=kakao
# ✅ 중요: 카카오는 POST 방식 인증 필요
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post

# 카카오 OAuth2 Provider 설정
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id

# ✅ 강화된 디버깅 로깅 (401 에러 원인 파악용)
logging.level.com.example.demo=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.oauth2=DEBUG
logging.level.org.springframework.security.oauth2.client=DEBUG

# ✅ HTTP 요청/응답 상세 로깅 (카카오와의 통신 확인)
logging.level.org.springframework.web.client.RestTemplate=DEBUG
logging.level.org.springframework.http=DEBUG
logging.level.org.apache.http.wire=DEBUG

# ✅ 웹 클라이언트 통신 로깅
logging.level.org.springframework.web.client=DEBUG
logging.level.httpclient.wire=DEBUG

# ✅ 전체 웹 요청 흐름 로깅
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.servlet=DEBUG

# ✅ OAuth2 토큰 교환 과정 상세 로깅
logging.level.org.springframework.security.oauth2.client.web=DEBUG
logging.level.org.springframework.security.oauth2.client.endpoint=DEBUG

# Redis 로깅
logging.level.org.springframework.data.redis=INFO